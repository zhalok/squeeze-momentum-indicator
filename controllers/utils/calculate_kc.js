const keltnerchannels = require("technicalindicators").KeltnerChannels;
const calculate_kc = (input) => {
  const kc_res = keltnerchannels.calculate(input);
  return kc_res;
};

// this data set was directly copied from the github repo you sent me
// lets run unit testing here
// yes both of the processes pass the tests successfully
var input = {
  useSMA: false,
  maPeriod: 20,
  atrPeriod: 10,
  multiplier: 1,
  high: [
    227.82, 228.89, 228.04, 228.33, 227.94, 229.44, 229.59, 229.07, 229.06,
    227.88, 228.26, 228.14, 227.44, 228.2, 228.1, 228.24, 228.45, 228.2, 228.43,
    227.47, 227.59, 227.09, 226.3, 225.78, 226.21, 226.45, 226.45, 226, 226.94,
    226.85, 226.33, 225.97, 226.45, 226.7, 226.25, 226.04, 225.28, 225.03,
    223.99, 222.99, 223.25, 223.09, 222.91, 223.02, 223.01, 223.21, 223.8,
    223.9, 223.77, 223.08, 222.89, 223.9, 224.39, 224.36, 223.67, 223.46,
    223.06, 223.89, 223.61, 217.19, 203.33, 203.51, 202.86, 202.84, 200.38,
    197.64, 199.12, 198.47, 198.14, 198.02, 197.5, 199.5, 201.1, 199.83, 199.86,
    200.66, 199.9, 199.64, 198.82, 198.32, 197.4, 197.45, 190.72, 192.93, 193,
    193.98, 194.6, 193.9, 196.76, 198.5, 196.25, 196, 194.94, 195.07, 195.71,
    195.71, 195.5, 198, 196.84, 196.25, 194.49, 195.5, 195.6,
  ],
  low: [
    226.96, 227.42, 227.07, 227.3, 227.29, 227.37, 228.69, 228.24, 227.7,
    227.57, 227.5, 226.5, 226.8, 227, 227.67, 228.09, 227.7, 226.95, 226.82,
    226.77, 226.92, 225.59, 225.12, 225.06, 225.06, 226, 225.63, 225.6, 225.99,
    226.2, 225.5, 225.28, 225.9, 225.83, 225.81, 224.37, 224.93, 223.55, 222.99,
    221.59, 221.52, 222.32, 222.22, 222.6, 222.52, 222.69, 222.95, 223.36,
    223.01, 221.73, 221.89, 222.79, 223.38, 222.79, 223.29, 222.93, 222.73,
    222.66, 216.41, 195.1, 197.51, 200.07, 201, 198.52, 192.5, 194.43, 197.19,
    196.64, 196.94, 194.62, 195.59, 193.49, 198.87, 197.43, 197.79, 198.76,
    197.94, 197.87, 194.44, 196.92, 195.55, 184.81, 187.15, 189.92, 191.63,
    190.77, 192.61, 192.62, 192.65, 195.2, 195, 193.3, 193.49, 193.3, 193.98,
    194.5, 194.54, 194.26, 195.86, 193.52, 193.6, 193.89, 195.02,
  ],
  close: [
    227.49, 227.62, 227.3, 227.93, 227.37, 229.39, 228.9, 229.06, 227.71,
    227.68, 228.14, 226.96, 227.31, 227.92, 228.09, 228.24, 227.71, 228.2,
    227.46, 227.18, 227.06, 226.12, 225.78, 225.07, 226.02, 226.44, 225.74,
    225.99, 226.61, 226.33, 225.97, 225.91, 226.36, 226.15, 225.91, 225.08,
    225.03, 223.95, 222.99, 222.19, 223.09, 222.8, 222.68, 222.78, 222.95,
    222.96, 223.8, 223.77, 223.06, 221.94, 222.8, 223.59, 224.35, 223.37,
    223.35, 222.99, 222.76, 223.61, 217.19, 202.24, 200.26, 201.22, 201.65,
    200.38, 196.83, 197.28, 198.47, 197.55, 198.02, 195.58, 197.06, 198.87,
    199.33, 197.9, 198.76, 199.79, 197.96, 198.76, 197.9, 197.08, 196.34,
    188.32, 189.93, 191.64, 192.44, 193.55, 193.68, 192.82, 195.35, 195.89,
    195.82, 193.48, 194.75, 194.35, 195.17, 195.45, 194.64, 196.3, 196.01,
    193.95, 193.89, 195.36, 195.16,
  ],
};

console.log(calculate_kc(input));

module.exports = calculate_kc;
